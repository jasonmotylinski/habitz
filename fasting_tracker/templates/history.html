{% extends "base.html" %}
{% block title %}History â€” Fasting Tracker{% endblock %}

{% block content %}
<div class="history-page">
    <div class="history-header">
        <h1 class="history-title">History</h1>
    </div>

    <!-- Calendar -->
    <div id="calendar-view">
        <div class="cal-nav">
            <button class="cal-nav-btn" id="cal-prev" title="Previous month">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
            </button>
            <span class="cal-month-label" id="cal-month-label"></span>
            <button class="cal-nav-btn" id="cal-next" title="Next month">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
            </button>
        </div>

        <div class="cal-weekdays">
            <span class="cal-weekday">M</span>
            <span class="cal-weekday">T</span>
            <span class="cal-weekday">W</span>
            <span class="cal-weekday">T</span>
            <span class="cal-weekday">F</span>
            <span class="cal-weekday">S</span>
            <span class="cal-weekday">S</span>
        </div>

        <div class="cal-grid" id="cal-grid"></div>
    </div>

    <!-- List -->
    <div id="history-list" class="history-list" style="margin-top: var(--space-xl)">
        <div class="spinner-wrap" id="history-loading">
            <div class="spinner"></div>
        </div>
    </div>

    <div class="history-empty hidden" id="history-empty">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="var(--text-faint)" stroke-width="1.5"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
        <p>No fasts</p>
    </div>

    <div class="history-pagination hidden" id="history-pagination">
        <button class="btn btn--ghost" id="load-more-btn">Load more</button>
    </div>
</div>
{% endblock %}
